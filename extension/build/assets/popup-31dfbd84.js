import"./modulepreload-polyfill-3cfb730f.js";const c=t=>t&&t.startsWith("https://github.com/")&&(t.endsWith("/actions")||t.includes("/actions/")),d=async()=>{try{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0}),o=document.getElementById("open-dashboard"),e=document.getElementById("dashboard-hint");if(!o||!e)return;c(t.url)?(o.disabled=!1,o.style.background="#238636",o.style.cursor="pointer",e.textContent=""):(o.disabled=!0,o.style.background="#bbb",o.style.cursor="not-allowed",e.textContent="Go to github actions page")}catch(t){console.error("Error updating dashboard button state:",t)}};document.addEventListener("DOMContentLoaded",()=>{d();const t=document.getElementById("github-token"),o=document.getElementById("save-token"),e=document.getElementById("token-status"),r=document.getElementById("open-dashboard");chrome.storage.local.get(["githubToken"],n=>{n.githubToken&&(t.value=n.githubToken,e.textContent="Token loaded",e.style.color="green")}),o.addEventListener("click",()=>{const n=t.value.trim();n.length>0?chrome.storage.local.set({githubToken:n},()=>{e.textContent="Token saved",e.style.color="green"}):chrome.storage.local.remove(["githubToken"],()=>{e.textContent="Token deleted",e.style.color="orange"})}),r.addEventListener("click",async()=>{if(!r.disabled){const n=chrome.runtime.getURL("react_page/index.html"),a=chrome.runtime.getURL("dashboard.html");try{if((await fetch(n,{method:"HEAD"})).ok){chrome.tabs.create({url:n});return}}catch{}chrome.tabs.create({url:a})}})});
